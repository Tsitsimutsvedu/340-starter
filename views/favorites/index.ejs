<%- include('../partials/header') %>

<main>
  <h1>My Favorites</h1>

  <% if (messages && messages.notice) { %>
    <div class="notice">
      <% messages.notice.forEach(msg => { %>
        <p><%= msg %></p>
      <% }) %>
    </div>
  <% } %>

  <% if (!favorites || favorites.length === 0) { %>
    <p>You have no favorites yet.</p>
  <% } else { %>
    <ul class="favorites-list">
      <% favorites.forEach(fav => { %>
        <li class="favorite-item">
          <% if (fav.inv_thumbnail) { %>
            <img src="<%= fav.inv_thumbnail %>" alt="<%= fav.inv_make %> <%= fav.inv_model %>">
          <% } %>

          <div class="favorite-info">
            <h3>
              <a href="/inv/details/<%= fav.inv_id %>">
                <%= fav.inv_make %> <%= fav.inv_model %>
              </a>
            </h3>
            <p>Price: $<%= fav.inv_price %></p>

            <form action="/favorites/remove" method="POST">
              <input type="hidden" name="inv_id" value="<%= fav.inv_id %>">
              <button type="submit">Remove from Favorites</button>
            </form>
          </div>
        </li>
      <% }) %>
    </ul>
  <% } %>
</main>

<%- include('../partials/footer') %>
